(function(){var e=this,n=e._,r=Array.prototype,t=Object.prototype,a=Function.prototype,o=r.push,s=r.slice,i=r.concat,c=t.toString,l=t.hasOwnProperty,u=Array.isArray,p=Object.keys,d=a.bind,h=function(e){return e instanceof h?e:this instanceof h?void(this._wrapped=e):new h(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):e._=h,h.VERSION="1.7.0";var f=function(e,n,r){if(void 0===n)return e;switch(null==r?3:r){case 1:return function(r){return e.call(n,r)};case 2:return function(r,t){return e.call(n,r,t)};case 3:return function(r,t,a){return e.call(n,r,t,a)};case 4:return function(r,t,a,o){return e.call(n,r,t,a,o)}}return function(){return e.apply(n,arguments)}};h.iteratee=function(e,n,r){return null==e?h.identity:h.isFunction(e)?f(e,n,r):h.isObject(e)?h.matches(e):h.property(e)},h.each=h.forEach=function(e,n,r){if(null==e)return e;n=f(n,r);var t,a=e.length;if(a===+a)for(t=0;a>t;t++)n(e[t],t,e);else{var o=h.keys(e);for(t=0,a=o.length;a>t;t++)n(e[o[t]],o[t],e)}return e},h.map=h.collect=function(e,n,r){if(null==e)return[];n=h.iteratee(n,r);for(var t,a=e.length!==+e.length&&h.keys(e),o=(a||e).length,s=Array(o),i=0;o>i;i++)t=a?a[i]:i,s[i]=n(e[t],t,e);return s};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(e,n,r,t){null==e&&(e=[]),n=f(n,t,4);var a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length,i=0;if(arguments.length<3){if(!s)throw new TypeError(g);r=e[o?o[i++]:i++]}for(;s>i;i++)a=o?o[i]:i,r=n(r,e[a],a,e);return r},h.reduceRight=h.foldr=function(e,n,r,t){null==e&&(e=[]),n=f(n,t,4);var a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length;if(arguments.length<3){if(!s)throw new TypeError(g);r=e[o?o[--s]:--s]}for(;s--;)a=o?o[s]:s,r=n(r,e[a],a,e);return r},h.find=h.detect=function(e,n,r){var t;return n=h.iteratee(n,r),h.some(e,function(e,r,a){return n(e,r,a)?(t=e,!0):void 0}),t},h.filter=h.select=function(e,n,r){var t=[];return null==e?t:(n=h.iteratee(n,r),h.each(e,function(e,r,a){n(e,r,a)&&t.push(e)}),t)},h.reject=function(e,n,r){return h.filter(e,h.negate(h.iteratee(n)),r)},h.every=h.all=function(e,n,r){if(null==e)return!0;n=h.iteratee(n,r);var t,a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length;for(t=0;s>t;t++)if(a=o?o[t]:t,!n(e[a],a,e))return!1;return!0},h.some=h.any=function(e,n,r){if(null==e)return!1;n=h.iteratee(n,r);var t,a,o=e.length!==+e.length&&h.keys(e),s=(o||e).length;for(t=0;s>t;t++)if(a=o?o[t]:t,n(e[a],a,e))return!0;return!1},h.contains=h.include=function(e,n){return null==e?!1:(e.length!==+e.length&&(e=h.values(e)),h.indexOf(e,n)>=0)},h.invoke=function(e,n){var r=s.call(arguments,2),t=h.isFunction(n);return h.map(e,function(e){return(t?n:e[n]).apply(e,r)})},h.pluck=function(e,n){return h.map(e,h.property(n))},h.where=function(e,n){return h.filter(e,h.matches(n))},h.findWhere=function(e,n){return h.find(e,h.matches(n))},h.max=function(e,n,r){var t,a,o=-(1/0),s=-(1/0);if(null==n&&null!=e){e=e.length===+e.length?e:h.values(e);for(var i=0,c=e.length;c>i;i++)t=e[i],t>o&&(o=t)}else n=h.iteratee(n,r),h.each(e,function(e,r,t){a=n(e,r,t),(a>s||a===-(1/0)&&o===-(1/0))&&(o=e,s=a)});return o},h.min=function(e,n,r){var t,a,o=1/0,s=1/0;if(null==n&&null!=e){e=e.length===+e.length?e:h.values(e);for(var i=0,c=e.length;c>i;i++)t=e[i],o>t&&(o=t)}else n=h.iteratee(n,r),h.each(e,function(e,r,t){a=n(e,r,t),(s>a||a===1/0&&o===1/0)&&(o=e,s=a)});return o},h.shuffle=function(e){for(var n,r=e&&e.length===+e.length?e:h.values(e),t=r.length,a=Array(t),o=0;t>o;o++)n=h.random(0,o),n!==o&&(a[o]=a[n]),a[n]=r[o];return a},h.sample=function(e,n,r){return null==n||r?(e.length!==+e.length&&(e=h.values(e)),e[h.random(e.length-1)]):h.shuffle(e).slice(0,Math.max(0,n))},h.sortBy=function(e,n,r){return n=h.iteratee(n,r),h.pluck(h.map(e,function(e,r,t){return{value:e,index:r,criteria:n(e,r,t)}}).sort(function(e,n){var r=e.criteria,t=n.criteria;if(r!==t){if(r>t||void 0===r)return 1;if(t>r||void 0===t)return-1}return e.index-n.index}),"value")};var v=function(e){return function(n,r,t){var a={};return r=h.iteratee(r,t),h.each(n,function(t,o){var s=r(t,o,n);e(a,t,s)}),a}};h.groupBy=v(function(e,n,r){h.has(e,r)?e[r].push(n):e[r]=[n]}),h.indexBy=v(function(e,n,r){e[r]=n}),h.countBy=v(function(e,n,r){h.has(e,r)?e[r]++:e[r]=1}),h.sortedIndex=function(e,n,r,t){r=h.iteratee(r,t,1);for(var a=r(n),o=0,s=e.length;s>o;){var i=o+s>>>1;r(e[i])<a?o=i+1:s=i}return o},h.toArray=function(e){return e?h.isArray(e)?s.call(e):e.length===+e.length?h.map(e,h.identity):h.values(e):[]},h.size=function(e){return null==e?0:e.length===+e.length?e.length:h.keys(e).length},h.partition=function(e,n,r){n=h.iteratee(n,r);var t=[],a=[];return h.each(e,function(e,r,o){(n(e,r,o)?t:a).push(e)}),[t,a]},h.first=h.head=h.take=function(e,n,r){return null==e?void 0:null==n||r?e[0]:h.initial(e,e.length-n)},h.initial=function(e,n,r){return s.call(e,0,Math.max(0,e.length-(null==n||r?1:n)))},h.last=function(e,n,r){return null==e?void 0:null==n||r?e[e.length-1]:h.rest(e,Math.max(0,e.length-n))},h.rest=h.tail=h.drop=function(e,n,r){return s.call(e,null==n||r?1:n)},h.compact=function(e){return h.filter(e,h.identity)};var m=function(e,n,r,t){if(n&&h.every(e,h.isArray))return i.apply(t,e);for(var a=0,s=e.length;s>a;a++){var c=e[a];h.isArray(c)||h.isArguments(c)?n?o.apply(t,c):m(c,n,r,t):r||t.push(c)}return t};h.flatten=function(e,n){return m(e,n,!1,[])},h.without=function(e){return h.difference(e,s.call(arguments,1))},h.uniq=h.unique=function(e,n,r,t){if(null==e)return[];h.isBoolean(n)||(t=r,r=n,n=!1),null!=r&&(r=h.iteratee(r,t));for(var a=[],o=[],s=0,i=e.length;i>s;s++){var c=e[s];if(n)s&&o===c||a.push(c),o=c;else if(r){var l=r(c,s,e);h.indexOf(o,l)<0&&(o.push(l),a.push(c))}else h.indexOf(a,c)<0&&a.push(c)}return a},h.union=function(){return h.uniq(m(arguments,!0,!0,[]))},h.intersection=function(e){if(null==e)return[];for(var n=[],r=arguments.length,t=0,a=e.length;a>t;t++){var o=e[t];if(!h.contains(n,o)){for(var s=1;r>s&&h.contains(arguments[s],o);s++);s===r&&n.push(o)}}return n},h.difference=function(e){var n=m(s.call(arguments,1),!0,!0,[]);return h.filter(e,function(e){return!h.contains(n,e)})},h.zip=function(e){if(null==e)return[];for(var n=h.max(arguments,"length").length,r=Array(n);n-->0;)r[n]=h.pluck(arguments,n);return r},h.unzip=function(e){return h.zip.apply(null,e)},h.object=function(e,n){if(null==e)return{};for(var r={},t=0,a=e.length;a>t;t++)n?r[e[t]]=n[t]:r[e[t][0]]=e[t][1];return r},h.indexOf=function(e,n,r){if(null==e)return-1;var t=0,a=e.length;if(r){if("number"!=typeof r)return t=h.sortedIndex(e,n),e[t]===n?t:-1;t=0>r?Math.max(0,a+r):r}for(;a>t;t++)if(e[t]===n)return t;return-1},h.lastIndexOf=function(e,n,r){if(null==e)return-1;var t=e.length;for("number"==typeof r&&(t=0>r?t+r+1:Math.min(t,r+1));--t>=0;)if(e[t]===n)return t;return-1},h.range=function(e,n,r){arguments.length<=1&&(n=e||0,e=0),r=r||1;for(var t=Math.max(Math.ceil((n-e)/r),0),a=Array(t),o=0;t>o;o++,e+=r)a[o]=e;return a};var y=function(){};h.bind=function(e,n){var r,t;if(d&&e.bind===d)return d.apply(e,s.call(arguments,1));if(!h.isFunction(e))throw new TypeError("Bind must be called on a function");return r=s.call(arguments,2),t=function(){if(!(this instanceof t))return e.apply(n,r.concat(s.call(arguments)));y.prototype=e.prototype;var a=new y;y.prototype=null;var o=e.apply(a,r.concat(s.call(arguments)));return h.isObject(o)?o:a}},h.partial=function(e){var n=s.call(arguments,1);return function(){for(var r=0,t=n.slice(),a=0,o=t.length;o>a;a++)t[a]===h&&(t[a]=arguments[r++]);for(;r<arguments.length;)t.push(arguments[r++]);return e.apply(this,t)}},h.bindAll=function(e){var n,r,t=arguments.length;if(1>=t)throw new Error("bindAll must be passed function names");for(n=1;t>n;n++)r=arguments[n],e[r]=h.bind(e[r],e);return e},h.memoize=function(e,n){var r=function(t){var a=r.cache,o=""+(n?n.apply(this,arguments):t);return h.has(a,o)||(a[o]=e.apply(this,arguments)),a[o]};return r.cache={},r},h.delay=function(e,n){var r=s.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},n)},h.defer=function(e){return h.delay.apply(h,[e,1].concat(s.call(arguments,1)))},h.throttle=function(e,n,r){var t,a,o,s=null,i=0;r||(r={});var c=function(){i=r.leading===!1?0:h.now(),s=null,o=e.apply(t,a),s||(t=a=null)};return function(){var l=h.now();i||r.leading!==!1||(i=l);var u=n-(l-i);return t=this,a=arguments,0>=u||u>n?(s&&(clearTimeout(s),s=null),i=l,o=e.apply(t,a),s||(t=a=null)):s||r.trailing===!1||(s=setTimeout(c,u)),o}},h.debounce=function(e,n,r){var t,a,o,s,i,c=function(){var l=h.now()-s;n>l&&l>=0?t=setTimeout(c,n-l):(t=null,r||(i=e.apply(o,a),t||(o=a=null)))};return function(){o=this,a=arguments,s=h.now();var l=r&&!t;return t||(t=setTimeout(c,n)),l&&(i=e.apply(o,a),o=a=null),i}},h.wrap=function(e,n){return h.partial(n,e)},h.negate=function(e){return function(){return!e.apply(this,arguments)}},h.compose=function(){var e=arguments,n=e.length-1;return function(){for(var r=n,t=e[n].apply(this,arguments);r--;)t=e[r].call(this,t);return t}},h.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},h.before=function(e,n){var r;return function(){return--e>0?r=n.apply(this,arguments):n=null,r}},h.once=h.partial(h.before,2);var b=!{toString:null}.propertyIsEnumerable("toString"),w=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];h.keys=function(e){if(!h.isObject(e))return[];if(p)return p(e);var n=[];for(var r in e)h.has(e,r)&&n.push(r);if(b)for(var t=w.length;t--;){var a=w[t];h.has(e,a)&&!h.contains(n,a)&&n.push(a)}return n},h.values=function(e){for(var n=h.keys(e),r=n.length,t=Array(r),a=0;r>a;a++)t[a]=e[n[a]];return t},h.pairs=function(e){for(var n=h.keys(e),r=n.length,t=Array(r),a=0;r>a;a++)t[a]=[n[a],e[n[a]]];return t},h.invert=function(e){for(var n={},r=h.keys(e),t=0,a=r.length;a>t;t++)n[e[r[t]]]=r[t];return n},h.functions=h.methods=function(e){var n=[];for(var r in e)h.isFunction(e[r])&&n.push(r);return n.sort()},h.extend=function(e){if(!h.isObject(e))return e;for(var n,r,t=1,a=arguments.length;a>t;t++){n=arguments[t];for(r in n)e[r]=n[r]}return e},h.pick=function(e,n,r){var t,a={};if(null==e)return a;if(h.isFunction(n)){n=f(n,r);for(t in e){var o=e[t];n(o,t,e)&&(a[t]=o)}}else{var c=i.apply([],s.call(arguments,1));e=new Object(e);for(var l=0,u=c.length;u>l;l++)t=c[l],t in e&&(a[t]=e[t])}return a},h.omit=function(e,n,r){if(h.isFunction(n))n=h.negate(n);else{var t=h.map(i.apply([],s.call(arguments,1)),String);n=function(e,n){return!h.contains(t,n)}}return h.pick(e,n,r)},h.defaults=function(e){if(!h.isObject(e))return e;for(var n=1,r=arguments.length;r>n;n++){var t=arguments[n];for(var a in t)void 0===e[a]&&(e[a]=t[a])}return e},h.clone=function(e){return h.isObject(e)?h.isArray(e)?e.slice():h.extend({},e):e},h.tap=function(e,n){return n(e),e};var k=function(e,n,r,t){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof h&&(e=e._wrapped),n instanceof h&&(n=n._wrapped);var a=c.call(e);if(a!==c.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===a;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var s=e.constructor,i=n.constructor;if(s!==i&&!(h.isFunction(s)&&s instanceof s&&h.isFunction(i)&&i instanceof i)&&"constructor"in e&&"constructor"in n)return!1}for(var l=r.length;l--;)if(r[l]===e)return t[l]===n;r.push(e),t.push(n);var u,p;if(o){if(u=e.length,p=u===n.length)for(;u--&&(p=k(e[u],n[u],r,t)););}else{var d,f=h.keys(e);if(u=f.length,p=h.keys(n).length===u)for(;u--&&(d=f[u],p=h.has(n,d)&&k(e[d],n[d],r,t)););}return r.pop(),t.pop(),p};h.isEqual=function(e,n){return k(e,n,[],[])},h.isEmpty=function(e){if(null==e)return!0;if(h.isArray(e)||h.isString(e)||h.isArguments(e))return 0===e.length;for(var n in e)if(h.has(e,n))return!1;return!0},h.isElement=function(e){return!(!e||1!==e.nodeType)},h.isArray=u||function(e){return"[object Array]"===c.call(e)},h.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},h.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){h["is"+e]=function(n){return c.call(n)==="[object "+e+"]"}}),h.isArguments(arguments)||(h.isArguments=function(e){return h.has(e,"callee")}),"function"!=typeof/./&&(h.isFunction=function(e){return"function"==typeof e||!1}),h.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},h.isNaN=function(e){return h.isNumber(e)&&e!==+e},h.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===c.call(e)},h.isNull=function(e){return null===e},h.isUndefined=function(e){return void 0===e},h.has=function(e,n){return null!=e&&l.call(e,n)},h.noConflict=function(){return e._=n,this},h.identity=function(e){return e},h.constant=function(e){return function(){return e}},h.noop=function(){},h.property=function(e){return function(n){return null==n?void 0:n[e]}},h.matches=function(e){var n=h.pairs(e),r=n.length;return function(e){if(null==e)return!r;e=new Object(e);for(var t=0;r>t;t++){var a=n[t],o=a[0];if(a[1]!==e[o]||!(o in e))return!1}return!0}},h.times=function(e,n,r){var t=Array(Math.max(0,e));n=f(n,r,1);for(var a=0;e>a;a++)t[a]=n(a);return t},h.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},h.now=Date.now||function(){return(new Date).getTime()};var x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},S=h.invert(x),$=function(e){var n=function(n){return e[n]},r="(?:"+h.keys(e).join("|")+")",t=RegExp(r),a=RegExp(r,"g");return function(e){return e=null==e?"":""+e,t.test(e)?e.replace(a,n):e}};h.escape=$(x),h.unescape=$(S),h.result=function(e,n,r){var t=null==e?void 0:e[n];return void 0===t?r:h.isFunction(t)?e[n]():t};var T=0;h.uniqueId=function(e){var n=++T+"";return e?e+n:n},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var E=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},_=/\\|'|\r|\n|\u2028|\u2029/g,C=function(e){return"\\"+R[e]};h.template=function(e,n,r){!n&&r&&(n=r),n=h.defaults({},n,h.templateSettings);var t=RegExp([(n.escape||E).source,(n.interpolate||E).source,(n.evaluate||E).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(t,function(n,r,t,s,i){return o+=e.slice(a,i).replace(_,C),a=i+n.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":t?o+="'+\n((__t=("+t+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(n.variable||"obj","_",o)}catch(i){throw i.source=o,i}var c=function(e){return s.call(this,e,h)},l=n.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},h.chain=function(e){var n=h(e);return n._chain=!0,n};var A=function(e,n){return e._chain?h(n).chain():n};h.mixin=function(e){h.each(h.functions(e),function(n){var r=h[n]=e[n];h.prototype[n]=function(){var e=[this._wrapped];return o.apply(e,arguments),A(this,r.apply(h,e))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=r[e];h.prototype[e]=function(){var r=this._wrapped;return n.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],A(this,r)}}),h.each(["concat","join","slice"],function(e){var n=r[e];h.prototype[e]=function(){return A(this,n.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}).call(this),angular.module("ngLocale",[],["$provide",function(e){function n(e){e+="";var n=e.indexOf(".");return-1==n?0:e.length-n-1}function r(e,r){var t=r;void 0===t&&(t=Math.min(n(e),3));var a=Math.pow(10,t),o=(e*a|0)%a;return{v:t,f:o}}var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],MONTH:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],SHORTDAY:["вс","пн","вт","ср","чт","пт","сб"],SHORTMONTH:["янв.","февр.","марта","апр.","мая","июня","июля","авг.","сент.","окт.","нояб.","дек."],fullDate:"EEEE, d MMMM y 'г'.",longDate:"d MMMM y 'г'.",medium:"d MMM y 'г'. H:mm:ss",mediumDate:"d MMM y 'г'.",mediumTime:"H:mm:ss","short":"dd.MM.yy H:mm",shortDate:"dd.MM.yy",shortTime:"H:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"руб.",DECIMAL_SEP:",",GROUP_SEP:" ",PATTERNS:[{gSize:3,lgSize:3,macFrac:0,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,macFrac:0,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"ru-ru",pluralCat:function(e,n){var a=0|e,o=r(e,n);return 0==o.v&&a%10==1&&a%100!=11?t.ONE:0==o.v&&a%10>=2&&4>=a%10&&(12>a%100||a%100>14)?t.FEW:0==o.v&&a%10==0||0==o.v&&a%10>=5&&9>=a%10||0==o.v&&a%100>=11&&14>=a%100?t.MANY:t.OTHER}})}]),function(e,n,r){"use strict";function t(){function e(e,r){return n.extend(new(n.extend(function(){},{prototype:e})),r)}function r(e,n){var r=n.caseInsensitiveMatch,t={originalPath:e,regexp:e},a=t.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,n,r,t){var o="?"===t?t:null,s="*"===t?t:null;return a.push({name:r,optional:!!o}),n=n||"",""+(o?"":n)+"(?:"+(o?n:"")+(s&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),t.regexp=new RegExp("^"+e+"$",r?"i":""),t}var t={};this.when=function(e,a){if(t[e]=n.extend({reloadOnSearch:!0},a,e&&r(e,a)),e){var o="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";t[o]=n.extend({redirectTo:e},r(o,a))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(r,a,o,s,i,c,l,u){function p(e,n){var r=n.keys,t={};if(!n.regexp)return null;var a=n.regexp.exec(e);if(!a)return null;for(var o=1,s=a.length;s>o;++o){var i=r[o-1],c="string"==typeof a[o]?decodeURIComponent(a[o]):a[o];i&&c&&(t[i.name]=c)}return t}function d(){var e=h(),t=v.current;e&&t&&e.$$route===t.$$route&&n.equals(e.pathParams,t.pathParams)&&!e.reloadOnSearch&&!g?(t.params=e.params,n.copy(t.params,o),r.$broadcast("$routeUpdate",t)):(e||t)&&(g=!1,r.$broadcast("$routeChangeStart",e,t),v.current=e,e&&e.redirectTo&&(n.isString(e.redirectTo)?a.path(f(e.redirectTo,e.params)).search(e.params).replace():a.url(e.redirectTo(e.pathParams,a.path(),a.search())).replace()),s.when(e).then(function(){if(e){var r,t,a=n.extend({},e.resolve);return n.forEach(a,function(e,r){a[r]=n.isString(e)?i.get(e):i.invoke(e)}),n.isDefined(r=e.template)?n.isFunction(r)&&(r=r(e.params)):n.isDefined(t=e.templateUrl)&&(n.isFunction(t)&&(t=t(e.params)),t=u.getTrustedResourceUrl(t),n.isDefined(t)&&(e.loadedTemplateUrl=t,r=c.get(t,{cache:l}).then(function(e){return e.data}))),n.isDefined(r)&&(a.$template=r),s.all(a)}}).then(function(a){e==v.current&&(e&&(e.locals=a,n.copy(e.params,o)),r.$broadcast("$routeChangeSuccess",e,t))},function(n){e==v.current&&r.$broadcast("$routeChangeError",e,t,n)}))}function h(){var r,o;return n.forEach(t,function(t,s){!o&&(r=p(a.path(),t))&&(o=e(t,{params:n.extend({},a.search(),r),pathParams:r}),o.$$route=t)}),o||t[null]&&e(t[null],{params:{},pathParams:{}})}function f(e,r){var t=[];return n.forEach((e||"").split(":"),function(e,n){if(0===n)t.push(e);else{var a=e.match(/(\w+)(.*)/),o=a[1];t.push(r[o]),t.push(a[2]||""),delete r[o]}}),t.join("")}var g=!1,v={routes:t,reload:function(){g=!0,r.$evalAsync(d)}};return r.$on("$locationChangeSuccess",d),v}]}function a(){this.$get=function(){return{}}}function o(e,r,t){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(a,o,s,i,c){function l(){h&&(h.remove(),h=null),p&&(p.$destroy(),p=null),d&&(t.leave(d,function(){h=null}),h=d,d=null)}function u(){var s=e.current&&e.current.locals,i=s&&s.$template;if(n.isDefined(i)){var u=a.$new(),h=e.current,v=c(u,function(e){t.enter(e,null,d||o,function(){!n.isDefined(f)||f&&!a.$eval(f)||r()}),l()});d=v,p=h.scope=u,p.$emit("$viewContentLoaded"),p.$eval(g)}else l()}var p,d,h,f=s.autoscroll,g=s.onload||"";a.$on("$routeChangeSuccess",u),u()}}}function s(e,n,r){return{restrict:"ECA",priority:-400,link:function(t,a){var o=r.current,s=o.locals;a.html(s.$template);var i=e(a.contents());if(o.controller){s.$scope=t;var c=n(o.controller,s);o.controllerAs&&(t[o.controllerAs]=c),a.data("$ngControllerController",c),a.children().data("$ngControllerController",c)}i(t)}}}var i=n.module("ngRoute",["ng"]).provider("$route",t);i.provider("$routeParams",a),i.directive("ngView",o),i.directive("ngView",s),o.$inject=["$route","$anchorScroll","$animate"],s.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,n,r){"use strict";function t(e){return null!=e&&""!==e&&"hasOwnProperty"!==e&&i.test("."+e)}function a(e,n){if(!t(n))throw s("badmember",'Dotted member path "@{0}" is invalid.',n);for(var a=n.split("."),o=0,i=a.length;i>o&&e!==r;o++){var c=a[o];e=null!==e?e[c]:r}return e}function o(e,r){r=r||{},n.forEach(r,function(e,n){delete r[n]});for(var t in e)!e.hasOwnProperty(t)||"$"===t.charAt(0)&&"$"===t.charAt(1)||(r[t]=e[t]);return r}var s=n.$$minErr("$resource"),i=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;n.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(e,t){function i(e){return c(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function c(e,n){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,n?"%20":"+")}function l(e,n){this.template=e,this.defaults=n||{},this.urlParams={}}function u(i,c,m){function y(e,n){var r={};return n=f({},c,n),h(n,function(n,t){v(n)&&(n=n()),r[t]=n&&n.charAt&&"@"==n.charAt(0)?a(e,n.substr(1)):n}),r}function b(e){return e.resource}function w(e){o(e||{},this)}var k=new l(i);return m=f({},p,m),h(m,function(a,i){var c=/^(POST|PUT|PATCH)$/i.test(a.method);w[i]=function(i,l,u,p){var m,x,S,$={};switch(arguments.length){case 4:S=p,x=u;case 3:case 2:if(!v(l)){$=i,m=l,x=u;break}if(v(i)){x=i,S=l;break}x=l,S=u;case 1:v(i)?x=i:c?m=i:$=i;break;case 0:break;default:throw s("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=this instanceof w,E=T?m:a.isArray?[]:new w(m),R={},_=a.interceptor&&a.interceptor.response||b,C=a.interceptor&&a.interceptor.responseError||r;h(a,function(e,n){"params"!=n&&"isArray"!=n&&"interceptor"!=n&&(R[n]=g(e))}),c&&(R.data=m),k.setUrlParams(R,f({},y(m,a.params||{}),$),a.url);var A=e(R).then(function(e){var r=e.data,t=E.$promise;if(r){if(n.isArray(r)!==!!a.isArray)throw s("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",a.isArray?"array":"object",n.isArray(r)?"array":"object");a.isArray?(E.length=0,h(r,function(e){E.push(new w(e))})):(o(r,E),E.$promise=t)}return E.$resolved=!0,e.resource=E,e},function(e){return E.$resolved=!0,(S||d)(e),t.reject(e)});return A=A.then(function(e){var n=_(e);return(x||d)(n,e.headers),n},C),T?A:(E.$promise=A,E.$resolved=!1,E)},w.prototype["$"+i]=function(e,n,r){v(e)&&(r=n,n=e,e={});var t=w[i].call(this,e,this,n,r);return t.$promise||t}}),w.bind=function(e){return u(i,f({},c,e),m)},w}var p={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},d=n.noop,h=n.forEach,f=n.extend,g=n.copy,v=n.isFunction;return l.prototype={setUrlParams:function(e,r,t){var a,o,c=this,l=t||c.template,u=c.urlParams={};h(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw s("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(u[e]=!0)}),l=l.replace(/\\:/g,":"),r=r||{},h(c.urlParams,function(e,t){a=r.hasOwnProperty(t)?r[t]:c.defaults[t],n.isDefined(a)&&null!==a?(o=i(a),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,n){return o+n})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,n,r){return"/"==r.charAt(0)?r:n+r})}),l=l.replace(/\/+$/,"")||"/",l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=l.replace(/\/\\\./,"/."),h(r,function(n,r){c.urlParams[r]||(e.params=e.params||{},e.params[r]=n)})}},u}])}(window,window.angular),angular.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,n){function r(){var e,r,t,s;for(e in o)c(a[e])&&n.cookies(e,void 0);for(e in a)r=a[e],angular.isString(r)||(r=""+r,a[e]=r),r!==o[e]&&(n.cookies(e,r),s=!0);if(s){s=!1,t=n.cookies();for(e in a)a[e]!==t[e]&&(c(t[e])?delete a[e]:a[e]=t[e],s=!0)}}var t,a={},o={},s=!1,i=angular.copy,c=angular.isUndefined;return n.addPollFn(function(){var r=n.cookies();t!=r&&(t=r,i(r,o),i(r,a),s&&e.$apply())})(),s=!0,e.$watch(r),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){var r=e[n];return r?angular.fromJson(r):r},put:function(n,r){e[n]=angular.toJson(r)},remove:function(n){delete e[n]}}}]);var tryHskControllers=angular.module("tryHskControllers",[]),tryHskDirectives=angular.module("tryHskDirectives",[]),tryHskServices=angular.module("tryHskServices",["ngResource"]),templates=angular.module("templates",[]),tryHsk=angular.module("tryHsk",["ngRoute","ngCookies","templates","tryHskControllers","tryHskFilters","tryHskDirectives","tryHskServices"]);angular.module("templates").run(["$templateCache",function(e){e.put("partials/checkbox/checkbox.html",'<div data-role=treeview class=treeview><ul><li class=node><span class=node-toggle></span><span class=leaf>HSK level</span><ul><li data-mode=checkbox><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.hsk1><span class=check></span><span class=leaf>HSK 1</span></label></li><li data-mode=checkbox><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.hsk2><span class=check></span><span class=leaf>HSK 2</span></label></li><li data-mode=checkbox><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.hsk3><span class=check></span><span class=leaf>HSK 3</span></label></li></ul></li><li class=node><span class=node-toggle></span><span class=leaf>{{content.partOfSpeech}}</span><ul><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.noun><span class=check></span><span class=leaf>{{content.noun}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.pronoun><span class=check></span><span class=leaf>{{content.pronoun}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.verb><span class=check></span><span class=leaf>{{content.verb}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.adjective><span class=check></span><span class=leaf>{{content.adjective}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.numeral><span class=check></span><span class=leaf>{{content.numeral}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.otherPart><span class=check></span><span class=leaf>{{content.otherPart}}</span></label></li></ul></li><li class=node><span class=node-toggle></span><span class=leaf>{{content.theme}}</span><ul><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.place><span class=check></span><span class=leaf>{{content.place}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.relate><span class=check></span><span class=leaf>{{content.relate}}</span></label></li><li><label class="input-control checkbox"><input type=checkbox ng-model=checkboxValues.otherThemes><span class=check></span><span class=leaf>{{content.otherThemes}}</span></label></li></ul></li></ul></div>'),e.put("partials/info/info.html","<div id=_page_3 ng-controller=InfoController class=frame></div>"),e.put("partials/love/love.html",'<div id=_page_5 ng-controller=LoveController class="frame no-padding-top no-padding-right"><img src=https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67 alt="Fork me on GitHub" data-canonical-src=https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png class=place-right><div class="grid no-margin"><div class="row condensed no-margin"><p class="leader v-align-middle">github.com/tryhsk/tryhsk.github.com</p></div><div class="row condensed"><p class=sub-leader>{{content.baseWords}}</p></div><div class="row condensed"><p class=header>docs.google.com/spreadsheets/d/1eCcrph6foyjtuQBQxeaZF8ZyrP3EUIE8uiJf3yVISS4/edit?usp=sharing</p></div></div></div>'),e.put("partials/settings/settings.html",'<div id=_page_4 ng-controller=SettingsController class=frame><div class="input-control select"><select ng-model=selectLang ng-change=freshLanguage(selectLang)><option value=ru>Русский</option><option value=zh>汉语</option><option value=en>English</option></select></div><div class="grid fluid"><div class="row cells2"><div class=cell><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.sound><span class=check></span><span class=leaf>{{content.pronunciation}}</span></label></div></div><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.color><span class=check></span><span class=leaf>{{content.color}}</span></label></div></div><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.number><span class=check></span><span class=leaf>{{content.numberTone}}</span></label></div></div><div class="row condensed"><div class="input-control checkbox"><label><input type=checkbox ng-model=settings.letter><span class=check></span><span class=leaf>{{content.score}}</span></label></div></div></div><div class=cell><div class=pinyin><span style="font-size: xx-large; color:{{tone.color}}" ng-repeat="tone in example"><span ng-hide=settings.letter>{{tone.pinyin}}</span><span ng-show=settings.letter>{{tone.transpinyin}}</span><span ng-show=settings.number>{{tone.number}}</span></span></div></div></div></div></div>'),e.put("partials/summary/summary.html",'<div id=_page_2 ng-controller=SummaryController class="frame frame no-padding"><div class="searchSummary padding10">{{content.search}}:<input ng-model=query><ng-pluralize ng-show="content.code === \'ru\'" count=words.length when="{\'0\': \'Ничего не выбрано\', \'one\': \'Выбрано {} слово\', \'few\': \'Выбрано {} слово\', \'many\': \'Выбрано {} слов\'}" class=padding10></ng-pluralize><ng-pluralize ng-show="content.code === \'en\'" count=words.length when="{\'0\': \'None selected\', \'many\': \'Joined word {}\'}" class=padding10></ng-pluralize><ng-pluralize ng-show="content.code === \'zh\'" count=words.length when="{\'0\': \'None selected\', \'many\': \'Joined word {} zh\'}" class=padding10></ng-pluralize></div><div class="grid margin20"><div class="row cells12"><div class="cell colspan3"><div ng-include="\'partials/checkbox/checkbox.html\'"></div></div><div id=table class="cell colspan9 tableContainer"><div ng-show=summaryLoader class=summaryLoader><div class=spinner><div class=rect1></div><div class=rect2></div><div class=rect3></div><div class=rect4></div><div class=rect5></div></div></div><table class=table><thead><div class="row cells4"><div class="text-left cell"><a ng-click="predicate = \'id\'; reverse=false">{{content.char}}</a>(<a ng-click="predicate = \'-id\'; reverse=false">^</a>)</div><div class="text-left cell"><a ng-click="predicate = \'s\'; reverse=!reverse">{{content.pinyin}}</a></div><div class="text-left cell"><a ng-click="predicate = \'russian\'; reverse=!reverse">{{content.translate}}</a></div><div style="display: none" class="text-left cell"><a ng-click="predicate = \'english\'; reverse=!reverse">{{content.eng}}</a></div></div></thead><tbody class=scrollContent><div class=zoneSummary><div ng-repeat="word in words | filter:query | orderBy:predicate:reverse" class="row cells12"><div class="char char_big cell colspan3">{{word.id}} {{word.char}}</div><div class="pinyin cell colspan3"><span style=color:{{tone.colorStyle}} ng-repeat="tone in word.pinyin"><span ng-show=!settings.letter>{{tone.pinyin}}</span><span ng-show=settings.letter>{{tone.transpinyin}}</span><span ng-show=settings.number>{{tone.number}}</span></span></div><div class="russian cell colspan6">{{word.russian}}</div></div></div></tbody></table></div></div></div></div>'),
e.put("partials/test/test.html","<div id=_page_1 ng-controller=TestController class=\"frame no-padding\"><div class=grid><div class=\"row cells12\"><div class=\"cell colspan3\"><div class=\"row condensed\"><div class=\"margin10 label\"><div class=\"input-control select\"><select ng-model=select><option value=char-trans ng-bind=\"content['char-trans']\"></option><option value=trans-char ng-bind=\"content['trans-char']\"></option><option value=pron-char ng-bind=\"content['pron-char']\"></option><option value=pron-trans ng-bind=\"content['pron-trans']\"></option></select></div></div></div><div class=\"row condensed\"><div id=sound></div><button ng-show=nextShow ng-click=nextWord() ng-bind=content.next class=\"button margin10 info\"></button><button ng-show=nextRefresh ng-click=nextWord() class=\"button margin10 warning\">{{content.refresh}}<span class=\"mif-loop2 align-right\"></span></button></div><div class=\"row condensed\"><output id=value></output><ng-pluralize ng-show=\"content.code === 'ru'\" count=words.length when=\"{'0': 'Ничего не выбрано', '1': 'Слишком мало слов. Выбрано {} слово', '2': 'Слишком мало слов. Выбрано {} слова', '3': 'Слишком мало слов. Выбрано {} слова', '4': 'Слишком мало слов. Выбрано {} слова', '5': 'Слишком мало слов. Выбрано {} слов', '6': 'Слишком мало слов. Выбрано {} слов', '7': 'Слишком мало слов. Выбрано {} слов', '8': 'Слишком мало слов. Выбрано {} слов', '9': 'Слишком мало слов. Выбрано {} слов', 'one': 'Выбрано {} слово', 'few': 'Выбрано {} слово', 'many': 'Выбрано {} слов'}\" class=margin10></ng-pluralize><ng-pluralize ng-show=\"content.code === 'en'\" count=words.length when=\"{'0': 'None selected', '1': 'Too few words. Joined {} words', '2': 'Too few words. Joined {} words', '3': 'Too few words. Joined {} words', '4': 'Too few words. Joined {} words', '5': 'Too few words. Joined {} words', '6': 'Too few words. Joined {} words', '7': 'Too few words. Joined {} words', '8': 'Too few words. Joined {} words', '9': 'Too few words. Joined {} words', 'one': 'Chosen one word', 'many': 'Joined word {}'}\" class=margin10></ng-pluralize><ng-pluralize ng-show=\"content.code === 'zh'\" count=words.length when=\"{'0': 'None selected', '1': 'Too few words. Joined {} words', '2': 'Too few words. Joined {} words', '3': 'Too few words. Joined {} words', '4': 'Too few words. Joined {} words', '5': 'Too few words. Joined {} words', '6': 'Too few words. Joined {} words', '7': 'Too few words. Joined {} words', '8': 'Too few words. Joined {} words', '9': 'Too few words. Joined {} words', 'one': 'Chosen one word', 'many': 'Joined word {} zh'}\" class=margin10></ng-pluralize></div><div class=\"row condensed\"><h1 ng-show=answer ng-bind=currentRights class=\"margin10 align-center\"></h1></div></div><div class=\"cell colspan6\"><div class=\"row condensed\"><center><button ng-show=\"soundCharRegime || soundTranslateRegime\" ng-click=playSound() class=\"shortcut link buttonSound\"><i class=mif-volume-medium></i></button><button ng-show=charRegime ng-style=questionStyle ng-click=playSound() class=\"shortcut link font60\">{{char}}</button><div ng-show=translateRegime class=\"russian-char font20\">{{russian}}</div></center></div><div class=\"row condensed\"><div id=accordion data-role=accordion data-closeany-any=true class=\"accordion place-center test\"><div ng-repeat=\"wordsTest in wordsTests\" class=\"frame no-padding\"><a href=# ng-click=isRight(wordsTest.ansv) ng-style=variantStyle class=heading>{{wordsTest.main}}</a><div class=\"content no-margin\"><div ng-show=\"charRegime || soundCharRegime\" class=\"row cells6 no-margin\"><audio ngsrc={{wordsTest.sound}}></audio><div class=\"cell colspan2\"><h2>{{wordsTest.char}}</h2></div><div class=\"cell colspan3\"><h2><span style=color:{{tone.color}} ng-repeat=\"tone in wordsTest.pinyin\"><span ng-hide=settings.letter>{{tone.pinyin}}</span><span ng-show=settings.letter>{{tone.transpinyin}}</span><span ng-show=settings.number>{{tone.number}}</span></span></h2></div></div><div ng-show=\"translateRegime || soundTranslateRegime\" class=\"row condensed no-margin\"><h4>{{wordsTest.russian}}</h4></div><div class=\"row condensed no-margin\"><button ng-class=wordsTest.ansver ng-click=nextWord() class=button>{{wordsTest.button}}</button></div></div></div></div></div></div><div class=\"cell colspan3\"><div ng-include=\"'partials/checkbox/checkbox.html'\"></div></div></div></div></div>")}]),tryHskServices.service("checkboxValues",["$cookies","$rootScope",function(e,n){this.initCheckboxValues=function(){n.checkboxValues=void 0===e.checkboxValues?{hsk1:!0,hsk2:!0,hsk3:!0,verb:!0,numeral:!0,adjective:!0,pronoun:!0,place:!0,relate:!0,noun:!0,otherPart:!0,otherThemes:!0}:JSON.parse(e.checkboxValues)},this.refreshCheckboxValues=function(){e.checkboxValues=JSON.stringify(n.checkboxValues)}}]),tryHskServices.service("settings",["$cookies","$rootScope",function(e,n){this.initSettings=function(){n.settings=void 0===e.settings?{sound:!0,color:!1,letter:!0,number:!1}:JSON.parse(e.settings)},this.refreshSettings=function(){e.settings=JSON.stringify(n.settings)}}]),tryHskServices.service("language",["$cookies","$rootScope",function(e,n){this.getLanguage=function(e){switch(e){case"ru":n.content={code:"ru",test:"ТЕСТ",summary:"СЛОВАРЬ",search:"Поиск",select:"Выберите язык","char":"Иероглиф",pinyin:"Пиньинь",translate:"Перевод",eng:"Английский",pronunciation:"Произношение",color:"Расскаска слогов по тонам",numberTone:"Цифры тонов",score:"Подчёркивания",partOfSpeech:"часть речи",noun:"существительные",pronoun:"числительные",verb:"глаголы",adjective:"прилагательные",numeral:"счётное слово",otherPart:"другие",theme:"Тематические",place:"Место",relate:"Отношения",otherThemes:"другие",baseWords:"База слов в формате google Docs",next:"СЛЕДУЮЩИЙ",refresh:"ОБНОВИТЬ",success:"Молодец!",fail:"Всё получится!","char-trans":"иероглиф - перевод","trans-char":"перевод - иероглиф","pron-char":"произношение - перевод","pron-trans":"произношение - иероглиф",pluralizeTest:"{'0': 'Ничего не выбрано',						'1': 'Слишком мало слов. Выбрано {} слово',						'2': 'Слишком мало слов. Выбрано {} слова',						'3': 'Слишком мало слов. Выбрано {} слова',						'4': 'Слишком мало слов. Выбрано {} слова',						'5': 'Слишком мало слов. Выбрано {} слов',						'6': 'Слишком мало слов. Выбрано {} слов',						'7': 'Слишком мало слов. Выбрано {} слов',						'8': 'Слишком мало слов. Выбрано {} слов',						'9': 'Слишком мало слов. Выбрано {} слов',						'one': 'Выбрано {} слово',						'few': 'Выбрано {} слово',						'many': 'Выбрано {} слов'}",pluralizeSummary:"{'0': 'Ничего не выбрано',						'one': 'Выбрано {} слово',						'few': 'Выбрано {} слово',						'many': 'Выбрано {} слов'}"};break;case"zh":n.content={code:"zh",test:"__ТЕСТ__",summary:"__СЛОВАРЬ__",search:"搜索",select:"选择语言","char":"字",pinyin:"拼音",translate:"俄语",eng:"英语",pronunciation:"拼音",color:"拼音",numberTone:"拼音",score:"拼音",partOfSpeech:"拼音",noun:"拼音",pronoun:"拼音",verb:"拼音",adjective:"拼音",numeral:"拼音",otherPart:"拼音",theme:"拼音",place:"拼音",relate:"拼音",otherThemes:"拼音",baseWords:"База слов в формате google Docs",next:"NEXT",refresh:"refresh",success:"success!",fail:"fail","char-trans":"character - translation","trans-char":"translation - character","pron-char":"pronunciation - character","pron-trans":"pronunciation - translation"};break;default:n.content={code:"en",test:"TEST",summary:"SUMMARY",search:"Search",select:"Choose language","char":"Hieroglyph",pinyin:"Pinyin",translate:"Russian",eng:"English",pronunciation:"pronunciation",color:"color",numberTone:"number of tone",score:"score",partOfSpeech:"part of speech",noun:"noun",pronoun:"pronoun",verb:"verb",adjective:"adjective",numeral:"numeral",otherPart:"other part",theme:"theme",place:"place",relate:"relate",otherThemes:"other themes",baseWords:"Base words in google Docs format",next:"NEXT",refresh:"refresh",success:"success!",fail:"fail","char-trans":"character - translation","trans-char":"translation - character","pron-char":"pronunciation - character","pron-trans":"pronunciation - translation",pluralizeSummary:"{'0': '######',						'one': 'Выбрано {} слово',						'few': 'Выбрано {} слово',						'many': 'Выбрано {} слов'}"}}},this.initLanguage=function(){return void 0===e.language?"ru":JSON.parse(e.language).selectLanguage},this.refreshSelectlanguage=function(n){var r={selectLanguage:n};this.getLanguage(n),e.language=JSON.stringify(r)}}]),tryHskServices.service("score",[function(){this.answered=!1,this.count=0,this.isRight=function(e){!this.answered&&e&&(this.count=this.count?++this.count:1),this.answered=!0}}]),tryHskServices.factory("StateManager",["$rootScope",function(e){var n=[];return{add:function(r){n.push(r),e.globalLoader=!0},remove:function(r){n=_.without(n,r),0===n.length&&(e.globalLoader=!1)},getByName:function(e){return _.include(n,e)},clear:function(){return n.length=0,!0}}}]),tryHskServices.factory("SummaryStateManager",["$rootScope",function(e){var n=[];return{add:function(r){n.push(r),e.summaryLoader=!0},remove:function(r){n=_.without(n,r),0===n.length&&(e.summaryLoader=!1)},getByName:function(e){return _.include(n,e)},clear:function(){return n.length=0,!0}}}]),tryHskServices.factory("Word",["$resource",function(e){return e("words_.json",{},{query:{method:"GET",isArray:!0,cash:!0}})}]),tryHskServices.service("prepareWords",["Word","pinyin",function(e,n){this.getWords=function(){return e.query().$promise.then(function(e){for(var r,t=[],a=e.length,o=0;a>o;o++)r={},r["char"]=e[o].c,r.pinyin=n.processingOfPinyin(e[o].p),r.russian=e[o].r,r.sound="http://china-standart.ru/"+e[o].s,r.mask=parseInt(e[o].i,2),r.id=o,t.push(r);return t})}}]),tryHskServices.service("sortWords",["$q","prepareWords","$rootScope","checkboxValues",function(e,n,r,t){this.words=[],this.loaded=!1,this.getSortWords=function(){var a,o=this;return this.loaded||t.initCheckboxValues(),r.$watch("checkboxValues",function(e,n){e!==n&&(o.getSortWords(),t.refreshCheckboxValues())},!0),this.loaded?(a=e.defer(),a.resolve(o.sortWords(o.words)),a.promise):(this.loaded=!0,n.getWords().then(function(e){return o.sortWords(e)}))},this.sortWords=function(e){function n(e){for(var n=[],t=e.length,a=0;t>a;a++)r.checkboxValues.hsk3&&4&e[a].mask?n.push(a):r.checkboxValues.hsk1&&1&e[a].mask?n.push(a):r.checkboxValues.hsk2&&2&e[a].mask&&n.push(a);return n}function t(n){for(var t=[],a=n.length,o=0;a>o;o++)r.checkboxValues.noun&&8&e[n[o]].mask?t.push(n[o]):r.checkboxValues.verb&&16&e[n[o]].mask?t.push(n[o]):r.checkboxValues.adjective&&32&e[n[o]].mask?t.push(n[o]):r.checkboxValues.numeral&&64&e[n[o]].mask?t.push(n[o]):r.checkboxValues.pronoun&&128&e[n[o]].mask?t.push(n[o]):!r.checkboxValues.otherPart||248&e[n[o]].mask||t.push(n[o]);return t}function a(n){for(var t=[],a=n.length,o=0;a>o;o++)r.checkboxValues.place&&256&e[n[o]].mask?t.push(n[o]):r.checkboxValues.relate&&512&e[n[o]].mask?t.push(n[o]):!r.checkboxValues.otherThemes||768&e[n[o]].mask||t.push(n[o]);return t}function o(n){for(var r=[],t=0;t<n.length;t++)r.push(e[n[t]]);return r}return this.words=e,r.words=o(a(t(n(e)))),r.words}}]),tryHskServices.service("pinyin",[function(){this.processingOfPinyin=function(e){var n,r,t=[],a={},o=[];n=e.split(/\d/),n.length>1&&n.pop(),r=e.split(/[^0-9]/);for(var s=0;s<r.length;s++)r[s]&&t.push(r[s]);0==t.length&&(t=["ERROR"]);for(var i=0;i<n.length;i++){switch(a={},t[i]){case"1":a={number:"1",color:"blue"};break;case"2":a={number:"2",color:"orange"};break;case"3":a={number:"3",color:"green"};break;case"4":a={number:"4",color:"red"};break;case"0":a={number:"5",color:"gray"};break;default:a={number:"ERROR",color:"black"}}a.transpinyin=n[i],a.pinyin=this.filterLetter(a.transpinyin),o.push(a)}return o},this.filterLetter=function(e){var n,r;n=e.split(""),r=n.length;for(var t=0;r>t;t++)switch(n[t]){case"ā":n[t]="a";break;case"á":n[t]="a";break;case"ǎ":n[t]="a";break;case"à":n[t]="a";break;case"ē":n[t]="e";break;case"é":n[t]="e";break;case"ě":n[t]="e";break;case"è":n[t]="e";break;case"ī":n[t]="i";break;case"í":n[t]="i";break;case"ǐ":n[t]="i";break;case"ì":n[t]="i";break;case"ō":n[t]="o";break;case"ó":n[t]="o";break;case"ǒ":n[t]="o";break;case"ò":n[t]="o";break;case"ū":n[t]="u";break;case"ú":n[t]="u";break;case"ǔ":n[t]="u";break;case"ù":n[t]="u";break;case"ǚ":n[t]="u";break;case"ǜ":n[t]="u"}return n.join("")}}]),angular.module("tryHskFilters",[]).filter("HSK",function(){return function(e){return console.log("yes"),e?"✓":"✘"}}),tryHskControllers.controller("CheckboxController",["$scope","$rootScope","checkboxValues",function(e,n,r){}]),tryHskControllers.controller("LoveController",["$scope","$rootScope",function(e,n){}]),tryHskControllers.controller("InfoController",["$scope","$rootScope",function(e,n){}]),tryHskControllers.controller("SettingsController",["$scope","$rootScope","language","settings",function(e,n,r,t){e.selectLang=n.content.code,e.freshLanguage=function(e){r.refreshSelectlanguage(e)},t.initSettings(),e.$watch("settings",function(){t.refreshSettings()},!0)}]),tryHskControllers.controller("SummaryController",["$scope","$rootScope","SummaryStateManager",function(e,n,r){function t(t,a){if(t!==a){r.add("summary");for(var o=n.words,s=0;s<o.length;s++)for(var i=0;i<o[s].pinyin.length;i++)o[s].pinyin[i].colorStyle=n.settings.color?o[s].pinyin[i].color:"black";e.words=o,o=null,r.remove("summary")}}n.$watch("words",t,!0),n.$watch("settings.color",t),e.predicate="id"}]),tryHskControllers.controller("TestController",["$scope","$rootScope","sortWords","$timeout","StateManager","score","language",function(e,n,r,t,a,o,s){function i(e){return Math.round(Math.random()*e)}function c(e,n){var r=Math.floor(.85*e);do for(var t=!1,a=i(e-1),o=0;r>o;o++)if(a==n[o]){t=!0;break}while(t);return n.unshift(a),a}function l(e){for(var n=[],r=2;r>=0;r--){do{for(var t=i(e-1),a=!1,o=n.length-1;o>=0;o--)t===n[o]&&(a=!0);t===h&&(a=!0)}while(a);n.push(t)}return n.splice(i(3),0,h),n}function u(){var n=["❤","☀","♞","☭"];e["char"]="☯";for(var r=0;4>r;r++)g[r]["char"]=n[r],g[r].pinyin="☀",g[r].russian="♞",g[r].sound="",g[r].ansver="primary",g[r].button="лол!!!"}function p(r){for(var t=0;4>t;t++){if(g[t]["char"]=r[v[t]]["char"],g[t].pinyin=r[v[t]].pinyin,!n.settings.color)for(var a=0;a<g[t].pinyin.length;a++)g[t].pinyin[a].color="black";g[t].russian=r[v[t]].russian,("pron-char"===e.select||"char-trans"===e.select)&&(g[t].main=r[v[t]].russian),("trans-char"===e.select||"pron-trans"===e.select)&&(g[t].main=r[v[t]]["char"]),g[t].sound=r[v[t]].sound,g[t].id=r[v[t]].id,v[t]==h?(g[t].ansver="success",g[t].ansv=!0,g[t].button=n.content.success):(g[t].ansver="danger",g[t].ansv=!1,g[t].button=n.content.fail)}}function d(n,r){n!==r&&(console.log(e.select),e.nextShow=!1,e.nextRefresh=!0,f=new Array(10))}var h,f=[],g=[{},{},{},{}],v=(document.getElementById("russian_char"),document.getElementById("sound_test"),[]);e.currentRights=0,a.add("test"),s.getLanguage(s.initLanguage()),e.regimes=[{option:n.content["char-trans"],value:"char-trans"},{option:n.content["trans-char"],value:"trans-char"},{option:n.content["pron-char"],value:"pron-char"},{option:n.content["pron-trans"],value:"pron-trans"}],e.select=e.regimes[0].value,e.$watch("select",d,!0),n.$watch("checkboxValues",d,!0),e.isRight=function(n){o.isRight(n),o.count&&(e.answer=!0,e.currentRights=o.count)},e.playSound=function(){return document.getElementById("playSound").play(),!1},e.fill=function(){var r=n.words;switch($("div.content").css("display","none").css("border",""),$("div.frame").removeClass("active"),h=c(r.length,f),e.questionStyle=1==r[h]["char"].length?{width:"92px"}:{width:80*r[h]["char"].length+"px"},e["char"]=r[h]["char"],e.russian=r[h].russian,e.select){case"char-trans":e.charRegime=!0,e.translateRegime=!1,e.soundCharRegime=!1,e.soundTranslateRegime=!1;break;case"trans-char":e.charRegime=!1,e.translateRegime=!0,e.soundCharRegime=!1,e.soundTranslateRegime=!1;break;case"pron-char":e.charRegime=!1,e.translateRegime=!1,e.soundCharRegime=!0,e.soundTranslateRegime=!1,document.getElementById("playSound").play();break;case"pron-trans":e.charRegime=!1,e.translateRegime=!1,e.soundCharRegime=!1,e.soundTranslateRegime=!0,document.getElementById("playSound").play()}return e.variantStyle=e.charRegime||e.soundCharRegime?"":{"font-size":"40px","font-weight":"normal"},e.sound=r[h].sound,v=l(r.length),p(r),setTimeout(function(){$("div.content:has(button.success)").css("border","2px solid #60a917"),$("div.content:has(button.danger)").css("border","2px solid red")},500),g},e.nextWord=function(){o.answered=!1,e.nextShow=!0,e.nextRefresh=!1,n.words.length<10?u():(e.fill(),t(function(){document.getElementById("sound").innerHTML=n.settings.sound||"pron-char"===e.select||"pron-trans"===e.select?'<audio id="playSound" src="'+e.sound+'" autoplay ></audio>':'<audio id="playSound" src="'+e.sound+'"></audio>'},100))},function(){r.getSortWords().then(function(){e.nextWord(),e.wordsTests=g,a.remove("test")})}()}]);